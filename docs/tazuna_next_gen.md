# tazuna Next Gen 方針（現状・あるべき・ギャップ・優先度）

## 0. コンセプト（ユーザー提示）
- 人間はAIにできない、人間しかできないことだけをする
- 人間がやることを最小限にし、一目瞭然にする
- ソフトウェアエンジニアリングにおける最高のUI/UX
- PC/スマホ/どこからでも最高の開発体験
- AIの進歩はAI coding toolに任せ、開発体験と効率向上に集中する

---

## 1. 現状（As-Is）
### プロダクト体験
- タスク作成は「指示入力」「Repo/Branch選択」「Executor/CLI選択」「Coding Mode選択」の流れが中心。
- タスク詳細は会話・Run結果（Summary/Diff/Logs）・PR作成・Review・CIチェックが同一画面に集約。
- 主要な状態（実行中/成功/失敗）は表示されるが、ユーザーの「次の一手」が画面上で常に明示されるわけではない。

### UXの強み
- マルチエグゼキュータの並列実行と比較の下地がある（実行器カード、Runの集約表示）。
- PR作成・レビュー・CIチェックなど、エンジニアリングの意思決定に必要な要素が揃っている。

### UXの課題（観点）
- 人間がやるべき判断点（目的・制約・合否基準・採用Run選択）がUI上で明確に整理されていない。
- 画面/状態/エラー時の導線が「最小限かつ一目瞭然」には至っていない。
- モバイル前提の体験設計（操作密度、表示優先順位、短時間レビュー）が不足。

---

## 2. あるべき姿（To-Be）
### 人間がやること（Human-only）
1. 目的・制約・合否基準の決定（What/Why/Constraints/Definition of Done）
2. 生成結果の採否・リスク判断
3. 事業/ドメイン判断に基づく優先度調整

### AI/システムが担うこと
- 実装・検証・比較・要約・差分の可視化・次の提案
- 失敗理由の分類と、ユーザーが取るべきアクションの提示
- コスト/時間/品質の自動最適化（安全策とガードレール）

### UI/UXの姿
- **一画面で「今やること」が分かる**（次のアクションが常に明示）
- **最小入力でRunを開始できる**（テンプレ・プリセット・履歴）
- **比較と採用が短時間で完結する**（比較ビュー＋採用ボタン）
- **モバイルは「確認/承認に最適化」**（縦1カラム、重要情報優先）
- **AI進歩は背後で吸収**（UIは変えずに実行器/モデルを更新可能）

---

## 3. 現状とあるべきのギャップ
| 観点 | 現状 | あるべき | ギャップ |
|---|---|---|---|
| 人間の役割 | 目的/制約/合否が散在 | Human-onlyを明示 | 意思決定ポイントがUIに露出しない |
| タスク開始 | 複数選択が必要 | 最小入力＋補助 | 初期入力の認知負荷が高い |
| 比較 | 実行器単位の表示 | 比較ビュー中心 | 採用判断の時間が長い |
| 進捗 | 状態は表示 | 次の一手が明示 | 失敗時の復帰導線が弱い |
| モバイル | デスクトップ中心 | レビュー特化 | 画面密度が高く操作しづらい |
| AI進歩への追従 | 実行器選択に依存 | UIは一定 | 新AI導入でUIが複雑化しやすい |

---

## 4. 優先度付きでやること（Gapを埋める施策）
### P0（人間の最小タスク化・判断明確化）
1. **Intent Canvasの導入**
   - 目的/制約/合否基準/非目標を1枚に集約し、Runの前提を固定。
   - UIに「Human-only」セクションとして常時表示。
2. **タスク作成の一目瞭然化**
   - 進行ステップ＋不足条件の明示（例: Repo未選択、Executor未選択）。
   - 失敗しない入力（テンプレ・履歴・推奨入力）を導入。
3. **採用判断の高速化**
   - Run比較ビュー（Summary/Diff/Files/Warningsを横並びで比較）。
   - 「採用/却下/保留」の1クリック操作と履歴。
4. **失敗時の次の一手提示**
   - エラー分類（認証/依存/テスト/コンフリクト/レート制限）。
   - 画面上で「推奨アクション（再実行・モデル変更・指示修正）」を提示。
5. **モバイルのレビュー最適化**
   - 縦1カラムで重要情報を優先表示。
   - 「採用/PR作成/レビュー」だけに最適化した操作導線。

### P1（開発体験の頂点化）
6. **Command Palette & ショートカット**
   - 新規タスク/再実行/比較/PR作成をキーボードで完結。
7. **プリセットとテンプレ**
   - 目的別テンプレ（バグ修正・テスト追加・設計レビュー）。
   - コスト/品質プリセット（高速/高品質/低コスト）。
8. **観測性のUX**
   - Runの進捗ステップ表示（準備→解析→生成→検証→完了）。
   - コスト/所要時間/差分規模の見える化。

### P2（基盤の一貫性・信頼性）
9. **デザインシステムとマイクロコピー統一**
   - 用語統一（Task/Run/Executor/Instructionなど）。
   - 視覚階層/余白/色/アイコンの体系化。
10. **アクセシビリティ&国際化の下地**
    - キーボード操作、ARIA、コントラスト保証。
    - i18n対応に向けた辞書化。

### P3（将来投資）
11. **PWA/通知/どこでも体験**
    - プッシュ通知・オフライン閲覧（レビュー中心）。
12. **複数人コラボの前提整備**
    - タスク共有/レビューコメント/権限管理の整備。

---

## 5. 実行ロードマップ（推奨）
- **Phase 1（0-4週）**: P0を完了し「人間の判断が迷わない」体験を最優先。
- **Phase 2（4-8週）**: P1で「最速の開発体験」を作る。
- **Phase 3（8週以降）**: P2/P3で信頼性と継続成長を支える基盤を作る。

---

## 6. 成功指標（KPI例）
- 初回タスク開始成功率 > 95%
- 1タスクあたりの「採用判断までの時間」 < 3分
- モバイルからの「レビュー完了率」 > 70%
- 失敗Runからの復帰率 > 80%
- 継続利用率（週次） +20%

---

## 7. 関連ドキュメント
- `docs/ui-ux-improvement.md`
- `docs/ui-ux-improvement-v2.md`
