# UI/UX Improvement Plan v2 for dursor

このドキュメントは、dursor のUI/UXをユーザー体験の観点から分析し、**ユーザーが迷う・待つ・誤る**ポイントを洗い出して、優先度付きで改善案をまとめたものです。v1 で特定された基礎的な問題に加え、より高度なUXの課題と解決策を提示します。

## 目次

1. [エグゼクティブサマリー](#エグゼクティブサマリー)
2. [現状分析](#現状分析)
3. [改善の狙い（UX原則）](#改善の狙いux原則)
4. [優先度付き改善項目](#優先度付き改善項目)
5. [画面別の具体提案](#画面別の具体提案)
6. [デザインとアクセシビリティ](#デザインとアクセシビリティ)
7. [成功指標（KPI）](#成功指標kpi)
8. [実装ロードマップ](#実装ロードマップ)

---

## エグゼクティブサマリー

### 現状評価

dursor は機能的に優れたマルチモデル並列コーディングエージェントですが、以下の UX 課題が存在します：

| カテゴリ | 現状スコア | 目標スコア | 主な課題 |
|---------|-----------|-----------|---------|
| オンボーディング | 2/5 | 4/5 | 初回設定のガイダンス不足 |
| 情報設計 | 3/5 | 4/5 | 情報の階層が不明確 |
| タスク効率 | 3/5 | 5/5 | ワークフローの最適化が必要 |
| エラーハンドリング | 3/5 | 5/5 | 復旧パスが不明確 |
| 認知負荷 | 3/5 | 4/5 | 選択肢が多すぎる場面がある |
| 比較体験 | 2/5 | 5/5 | マルチモデルの価値を活かせていない |

### v1 からの変更点

v1 ドキュメントでは技術的な問題（レスポンシブ、コンポーネント一貫性）に焦点を当てましたが、v2 ではユーザー中心設計の観点から改善点を追加しています。

---

## 現状分析

### 技術スタック
- **基盤**: Next.js App Router, Tailwind CSS, Heroicons
- **コンポーネント**: `components/ui`に基本的なUIパーツ（Button, Input, Modal, Toast, Skeleton）が実装済み
- **状態管理**: SWRを使用したデータフェッチとキャッシュ管理

### 主要フロー（現状）
- **Home**: 指示入力 → 実行器（Models/Claude Code/Codex/Gemini）選択 → Repo/Branch選択 → Task作成＆Run開始
- **Task**: 会話（ユーザーメッセージ）とRun結果カード（Summary/Diff/Logs）を同一画面で閲覧 → 成功RunからPR作成
- **Settings**: Model Profiles / GitHub App / Defaults（repo/branch/prefix/PR作成モード）

### すでに入っている良い点
- **トースト通知**、**スケルトン**、**確認ダイアログ**など、フィードバックの土台がある
- **モバイルサイドバー**とオーバーレイにより、最低限のモバイル動線は確保されている
- `Modal` のフォーカス復帰・Esc閉じなど、アクセシビリティの芽がある

### 課題
- データ量が増えた際のスケーラビリティ（タスク一覧や実行ログ）
- インタラクションの滑らかさ
- モバイル対応の不完全さ
- キーボード操作の網羅性

### ユーザーフロー課題マップ

```
[初回アクセス] → [ホーム画面]
     ↓
[リポジトリ選択] ← ❌ GitHub App 未設定時のガイダンス不足
     ↓
[モデル選択] ← ❌ モデル未登録時の導線が弱い
     ↓
[指示入力] ← ⚠️ 例文やテンプレートがない
     ↓
[タスク作成] → [タスク詳細画面]
     ↓
[実行状況確認] ← ⚠️ 長時間実行時の進捗が不明確
     ↓
[結果確認] ← ⚠️ Diff の可読性・比較UIが弱い
     ↓
[PR 作成] ← ❌ PR 作成後のフローが不明確
```

---

## 改善の狙い（UX原則）

| 原則 | 説明 |
|-----|------|
| **認知負荷の低減** | 何をすれば動くのか、次に何が起きるのかを常に明確にする |
| **エラー予防** | 入力不足/設定不足を「押してから失敗」ではなく「押す前に理解」へ |
| **比較・意思決定の支援** | マルチモデルの価値は「比較できること」なので、比較のUIを強くする |
| **信頼性の可視化** | 実行中/待機/失敗の状態が、理由と次の手段まで含めて伝わる |
| **"次に何をすべきか"を画面上に残す** | 空状態・エラー・設定不足の全てで導線を提示 |

---

## 優先度付き改善項目

### P0（詰まりを解消／コア体験を守る）

#### 1. 入力バリデーションの"沈黙"をなくす（Home）

**課題**: 指示/Repo/Branch/Models不足時に、送信が通らない・返ってくるが理由が見えにくい。

**改善案**:
- 送信ボタン付近に「不足している条件」を1行で表示（例: "リポジトリを選択してください"）
- `patch_agent` でモデル未設定時は、**SettingsへのCTA**（"モデルを追加"）を提示
- GitHub App 未設定でRepo一覧が取れない場合も、**Settings（GitHub App）へ誘導**

```tsx
// 改善例: 送信ボタン付近の条件表示
<div className="space-y-2">
  {!selectedRepo && (
    <p className="text-sm text-amber-400 flex items-center gap-2">
      <ExclamationTriangleIcon className="w-4 h-4" />
      リポジトリを選択してください
    </p>
  )}
  {executorType === 'patch_agent' && selectedModels.length === 0 && (
    <p className="text-sm text-amber-400 flex items-center gap-2">
      <ExclamationTriangleIcon className="w-4 h-4" />
      モデルが未設定です
      <button onClick={() => openSettings('models')} className="text-blue-400 underline">
        設定する →
      </button>
    </p>
  )}
</div>
```

**ホーム画面の改善イメージ:**

```
┌─────────────────────────────────────────────────────────────┐
│  🎉 dursor へようこそ！                                       │
│                                                             │
│  セットアップを完了して、最初のタスクを作成しましょう              │
│                                                             │
│  ┌─────────────────────────────────────────────────────────┐│
│  │ ✓ 1. GitHub App を接続        [完了]                    ││
│  ├─────────────────────────────────────────────────────────┤│
│  │ → 2. モデルを追加              [設定する]                ││
│  │    OpenAI、Anthropic、または Google のAPIキー           ││
│  ├─────────────────────────────────────────────────────────┤│
│  │ ○ 3. 最初のタスクを作成                                  ││
│  └─────────────────────────────────────────────────────────┘│
└─────────────────────────────────────────────────────────────┘
```

---

#### 2. RunとユーザーメッセージのID紐付け（Task）

**課題**: 現状は「ユーザーメッセージ数に応じてRunを均等割り当て」しており、会話が進むほど誤結合が起きやすい。

**改善案**:
- Run作成時に **`message_id` を保存**し、UIはそのIDで厳密にグルーピング
- 過去データはフォールバック表示（"推定グループ" ラベル）に留める

```tsx
// バックエンド改善: Run作成時にmessage_idを保存
interface CreateRunRequest {
  instruction: string;
  model_ids?: string[];
  executor_type: ExecutorType;
  message_id: string;  // 新規追加
}

// フロントエンド: 正確なグルーピング
const getRunsForMessage = (messageId: string): Run[] => {
  return runs.filter(run => run.message_id === messageId);
};
```

---

#### 3. Diffの可読性・操作性を一段上げる（Task）

**課題**: 現状のDiffはパッチを素朴に描画しており、ファイル一覧/ジャンプ/折り畳み/コピー等が弱い。

**改善案**:
- 左に **ファイル一覧（変更行数＋状態）**、右にDiffの2カラム（狭い画面ではドロワー）
- **ファイル内のhunk折り畳み**、大きな差分はデフォルト折り畳み
- "Copy patch" / "Download patch" / "Copy file path" のユーティリティ
- **表示モード切替**: Split（左右分割）表示とUnified（行内）表示
- **シンタックスハイライト**: 変更箇所の言語に応じた適切なハイライト

```
┌─────────────────────────────────────────────────────────────┐
│  📁 変更されたファイル (3)                    [全て展開/折畳]│
│  ├── src/components/Button.tsx  (+15, -3)     [展開 ▼]     │
│  ├── src/lib/utils.ts           (+5, -2)      [折畳 ▲]     │
│  └── tests/button.test.tsx      (+25, -0)     [展開 ▼]     │
├─────────────────────────────────────────────────────────────┤
│  src/components/Button.tsx                                  │
│  ─────────────────────────────────────────────────────────  │
│  @@ -10,6 +10,15 @@                                         │
│                                                             │
│   10 │   export function Button({ variant = 'primary' }) {  │
│   11 │     const styles = getButtonStyles(variant);         │
│  +12 │     const [isHovered, setIsHovered] = useState(false);│
│  +13 │                                                       │
│  +14 │     const handleMouseEnter = () => {                  │
│  +15 │       setIsHovered(true);                             │
│  +16 │     };                                                │
│   17 │                                                       │
│   18 │     return (                                          │
│                                                             │
│  [Unified] [Split] [Raw パッチ] [コピー ▼]                   │
└─────────────────────────────────────────────────────────────┘
```

---

#### 4. 失敗時の"次の一手"を提示（Task / Run）

**課題**: エラー表示はあるが、ユーザーが取るべき行動が分かりにくい。

**改善案**:
- 代表的な失敗パターンを分類（認証/ネットワーク/コンフリクト/依存関係/テスト失敗/レート制限）
- UI上で **推奨アクション**（再実行・別実行器・指示の改善例・Settingsの該当タブ）を表示

```tsx
// lib/error-handling.ts

type ErrorType = 
  | 'network'        // 一時的なネットワークエラー
  | 'auth'           // 認証エラー
  | 'permission'     // 権限エラー
  | 'validation'     // 入力検証エラー
  | 'execution'      // 実行時エラー
  | 'rate_limit'     // API レート制限
  | 'conflict'       // Git コンフリクト
  | 'unknown';       // 不明なエラー

interface ErrorDisplay {
  title: string;
  message: string;
  icon: React.ReactNode;
  actions: ErrorAction[];
  retryable: boolean;
}

const errorDisplayMap: Record<ErrorType, (error: Error) => ErrorDisplay> = {
  network: () => ({
    title: '接続エラー',
    message: 'サーバーに接続できませんでした。インターネット接続を確認してください。',
    icon: <WifiIcon />,
    actions: [{ label: '再試行', action: 'retry' }],
    retryable: true,
  }),
  rate_limit: () => ({
    title: 'API制限に達しました',
    message: 'しばらく待ってから再試行してください。',
    icon: <ClockIcon />,
    actions: [
      { label: '1分後に再試行', action: 'retry_delayed' },
      { label: '別のモデルで実行', action: 'switch_model' },
    ],
    retryable: true,
  }),
  // ...
};
```

**エラー表示例:**

```
┌─────────────────────────────────────────────────────────────┐
│  ⚠️ 実行に失敗しました                                       │
│                                                             │
│  Claude Code の実行中にエラーが発生しました。                  │
│                                                             │
│  詳細: APIレート制限に達しました                              │
│                                                             │
│  💡 推奨アクション:                                          │
│  • 1分ほど待ってから再試行してください                         │
│  • または別のモデルを試してください                            │
│                                                             │
│  [30秒後に再試行] [別のモデルで実行] [ログを確認]              │
└─────────────────────────────────────────────────────────────┘
```

---

### P1（価値を伸ばす／比較と管理の体験）

#### 1. マルチモデル比較を"結果カードの羅列"から"比較ビュー"へ

**課題**: マルチモデルの強みが、ユーザーの視点では比較しづらい。

**改善案**:
- 同一メッセージ配下のRunに **Compareモード**（Summary比較、Files changed比較、Diffの切替）
- "採用候補" をピン留めできる（最終的にPRを作るRunを選びやすくする）
- 成功/失敗/警告数などの **サマリー行** をグループ上部に表示

```
┌─────────────────────────────────────────────────────────────┐
│  📊 実行結果比較                              [比較モード ON]│
│  ─────────────────────────────────────────────────────────  │
│  サマリー: ✓ 2成功 / ⚠️ 1警告 / ✗ 1失敗                      │
│                                                             │
│  ┌─────────────┬─────────────┬─────────────┬─────────────┐ │
│  │   GPT-4     │ Claude 3.5  │ Gemini Pro  │  Codex CLI  │ │
│  ├─────────────┼─────────────┼─────────────┼─────────────┤ │
│  │ ✓ 成功      │ ✓ 成功     │ ⚠️ 警告     │ ✗ 失敗      │ │
│  │ 5 files     │ 4 files     │ 4 files     │ -           │ │
│  │ +120 -45    │ +95 -30     │ +100 -35    │ -           │ │
│  │ [📌 採用]   │ [採用]      │ [採用]      │ [再実行]    │ │
│  └─────────────┴─────────────┴─────────────┴─────────────┘ │
│                                                             │
│  [Summary比較] [Diff比較] [Files比較]                        │
└─────────────────────────────────────────────────────────────┘
```

---

#### 2. Task履歴の探索性向上（Sidebar）

**課題**: タスク数が増加すると目的のタスクを見つけるのが困難。

**改善案**:
- 検索（タイトル/Repo）・フィルタ（成功PRあり/最近/Repo別/ステータス別）
- 日付でのグルーピング（「今日」「昨日」「過去7日間」など）
- サイドバーを **折り畳み可能** にし、作業領域を広げる（特にラップトップ）
- タスクのメタデータ表示（ステータス、使用モデルのアイコン）

```
┌──────────────────────────────────┐
│  🔍 タスクを検索...              │
├──────────────────────────────────┤
│  フィルター: [すべて ▼]          │
│                                  │
│  📌 ピン留め                      │
│  └── 🔄 API エンドポイント追加    │
│                                  │
│  🔄 進行中 (2)                   │
│  ├── 🤖 バグ修正 #123             │
│  └── 💻 リファクタリング          │
│                                  │
│  ✅ 今日 (3)                     │
│  ├── テスト追加                   │
│  ├── ドキュメント更新             │
│  └── CI 修正                     │
│                                  │
│  📅 昨日 (5)                     │
│  └── [展開...]                   │
└──────────────────────────────────┘
```

---

#### 3. PR作成体験の統一（Auto作成/Link作成）

**課題**: "Create PR" がモードにより挙動が異なり、成功状態の表現も分散しやすい。

**改善案**:
- PR作成ボタン周辺に「現在の設定モード」を明示
- Linkモード時は "PR作成リンクを開いた後に自動検出します" を固定表示し、待機状態を見える化

```tsx
// PR作成ボタンの改善例
<div className="space-y-2">
  <div className="text-xs text-gray-500">
    モード: {preferences?.default_pr_creation_mode === 'link' 
      ? '🔗 リンクモード（GitHub上で作成）' 
      : '✨ 自動作成'}
  </div>
  <Button onClick={handleCreatePR}>
    {preferences?.default_pr_creation_mode === 'link' 
      ? 'GitHub で PR を作成' 
      : 'PR を作成'}
  </Button>
  {prLinkResult && (
    <p className="text-xs text-blue-400 animate-pulse">
      PR作成を検出中... GitHubでPRを作成してください
    </p>
  )}
</div>
```

---

#### 4. チャット体験の向上

**改善案**:

**入力エリアの改善**:
- **リッチテキスト入力**: コードブロックの貼り付けや、メンション機能（`@`でファイル参照など）
- **楽観的UI (Optimistic UI)**: メッセージ送信時、サーバーレスポンスを待たずに即座にUIに反映
- **入力補助**: 例文チップ（"バグ修正""テスト追加""設計レビュー"など）を用意

**モデル選択の改善**:
- プロバイダー（OpenAI, Anthropic, Google）ごとにグループ化
- **プリセット機能**: よく使うモデルの組み合わせ（「高速セット」「高品質セット」など）を保存

---

#### 5. 実行中の進捗表示の強化

**課題**: CLI 実行時に何が起きているか分からない。長時間実行時にユーザーが不安になる。

**改善案:**

```
┌─────────────────────────────────────────────────────────────┐
│  🔄 Claude Code 実行中                         [キャンセル] │
│  ─────────────────────────────────────────────────────────  │
│                                                             │
│  ⏱️ 経過時間: 2:34                                          │
│                                                             │
│  📋 現在のステップ:                                         │
│  ├── ✓ ワークスペース準備                                   │
│  ├── ✓ コード分析                                          │
│  ├── 🔄 変更を生成中...                                     │
│  └── ○ パッチ作成                                          │
│                                                             │
│  💬 最新のログ:                                             │
│  > Analyzing src/components/Button.tsx                      │
│  > Found 3 areas to modify                                  │
│                                                             │
│  [ログを展開] [バックグラウンドで実行]                        │
└─────────────────────────────────────────────────────────────┘
```

---

### P2（品質・アクセシビリティ・一貫性）

#### 1. アクセシビリティ（A11y）

**改善案**:
- `Modal` のフォーカストラップを"最初にフォーカス"だけでなく、**Tab循環**まで対応
- タブUI（Settings/Run）に `aria-controls` / `id` を付与して、関係性を明確にする
- `prefers-reduced-motion` への配慮（アニメーション抑制）
- 重要な状態変化（Run完了/失敗）を `aria-live` の領域で補助
- アイコンボタンへの `aria-label` の徹底

```tsx
// aria-live の活用例
<div aria-live="polite" className="sr-only">
  {runStatus === 'succeeded' && `${modelName} の実行が完了しました`}
  {runStatus === 'failed' && `${modelName} の実行が失敗しました`}
</div>
```

---

#### 2. マイクロコピーの統一

**課題**: UI文言が英語中心で、表現の粒度が揃っていない。

**改善案**:
- 用語集を作り、UI上の用語（Task/Run/Executor/Model/Branch）を統一
- "Run / Execute / Submit" 等の動詞を統一し、学習コストを下げる

| 用語 | 統一表記 | 説明 |
|-----|---------|------|
| Task | タスク | 1つの目標に対する作業単位 |
| Run | 実行 | モデルによる1回の実行 |
| Executor | 実行器 | モデルまたはCLIエージェント |
| Instruction | 指示 | ユーザーからの依頼内容 |

---

#### 3. 視覚的一貫性（密度・余白・アイコン）

**改善案**:
- "絵文字混在（例: 📋）" は原則アイコンに統一
- ステータス表現（色/ラベル/アイコン）を `StatusBadge` に集約し、重複実装を削減
- コンポーネントの境界や階層を明確にするための「Surface」カラーの定義

```tsx
// アイコンサイズの標準化
export const iconSizes = {
  xs: 'w-3 h-3',   // インライン、バッジ
  sm: 'w-4 h-4',   // ボタン内、リスト
  md: 'w-5 h-5',   // 単独のアイコンボタン
  lg: 'w-6 h-6',   // 見出し横
  xl: 'w-8 h-8',   // 空状態のイラスト
  '2xl': 'w-12 h-12', // 大きな空状態
} as const;
```

---

#### 4. キーボードショートカットの拡充

**改善案**:

| ショートカット | アクション | 説明 |
|--------------|----------|------|
| `Cmd/Ctrl + K` | コマンドパレット | クイックアクション |
| `Cmd/Ctrl + /` | ショートカット一覧 | ヘルプ表示 |
| `Cmd/Ctrl + ,` | 設定を開く | Settings モーダル |
| `Cmd/Ctrl + Enter` | 送信 | メッセージ送信 |
| `Cmd/Ctrl + N` | 新規タスク | ホームへ移動 |
| `Cmd/Ctrl + 1/2/3` | タブ切替 | Summary/Diff/Logs |
| `Escape` | 入力クリア/モーダル閉じ | コンテキストに応じて |
| `/` | 入力欄フォーカス | クイック入力 |

---

### P3（将来投資）

#### 1. i18n（日本語UI対応）

**改善案**:
- UI文言を辞書化し、日英切替（最初はSettingsにトグル）
- 日付表記や相対時間をローカライズ（`formatRelativeTime` の日本語化）

#### 2. 観測性のUX（"何が起きたか"の説明）

**改善案**:
- Runの"入力→実行→成果物→PR"の履歴を時系列で俯瞰できるタイムライン
- "このRunが触ったファイル"から直接Diff該当箇所へジャンプ

#### 3. APIキー管理のUX改善

**改善案**:
- **検証機能**: APIキーを入力した際、保存前に「テスト接続」ボタンで有効性を確認
- **セキュリティ表示**: 入力済みのキーは伏せ字で表示、「保存されました（復元不可）」の安心文言

---

## 画面別の具体提案

### Home（タスク作成）

| 改善項目 | 詳細 |
|---------|------|
| **段階表示（Step）** | Repo/Branch/Executor/Models/Instruction を「必要条件のチェックリスト」として見せる |
| **空状態の導線** | モデル0件: "Settings → Models へ" / GitHub未設定: "Settings → GitHub App へ" |
| **入力補助** | 例文チップ（"バグ修正""テスト追加""設計レビュー"など）を用意 |
| **最近使用したリポジトリ** | 履歴から素早く選択できるセクションの追加 |
| **ステップバイステップUI** | 必須項目（リポジトリ選択）を先に完了させてから詳細設定を表示 |

### Task（会話＋結果）

| 改善項目 | 詳細 |
|---------|------|
| **グループヘッダー** | ユーザーメッセージごとに「実行したモデル数/成功数/失敗数/警告数」を要約 |
| **Runカード** | 重要情報（成功/失敗/警告/変更ファイル数）をヘッダーに集約、開かなくても判断可能に |
| **Logs強化** | UI内検索とコピー機能を追加 |
| **Diff** | ファイル一覧＋ジャンプ、hunk折り畳み、"変更なし" の理由補足 |
| **比較モード** | 同一メッセージ配下のRunを横並びで比較 |

### Settings

| 改善項目 | 詳細 |
|---------|------|
| **GitHub App設定** | "どこで取得するか"の短い手順（3ステップ）をUI内に表示 |
| **API Key** | 保存後に「保存されました（復元不可）」の安心文言 |
| **Defaults** | リポジトリ/ブランチの選択を検索可能に |
| **テスト接続** | APIキー入力時に有効性を確認できるボタン |

---

## デザインとアクセシビリティ

### デザインシステムの洗練

#### CSS 変数化

```css
/* globals.css */

:root {
  /* 背景 */
  --bg-primary: #030712;
  --bg-secondary: #111827;
  --bg-tertiary: #1f2937;
  --bg-elevated: #374151;
  
  /* テキスト */
  --text-primary: #f9fafb;
  --text-secondary: #d1d5db;
  --text-muted: #9ca3af;
  --text-disabled: #6b7280;
  
  /* セマンティック */
  --success: #22c55e;
  --success-muted: rgba(34, 197, 94, 0.2);
  --error: #ef4444;
  --error-muted: rgba(239, 68, 68, 0.2);
  --warning: #f59e0b;
  --warning-muted: rgba(245, 158, 11, 0.2);
  --info: #3b82f6;
  --info-muted: rgba(59, 130, 246, 0.2);
}
```

#### タイポグラフィの統一

```tsx
export const typography = {
  h1: 'text-2xl font-bold text-gray-100',
  h2: 'text-xl font-semibold text-gray-100',
  h3: 'text-lg font-semibold text-gray-100',
  h4: 'text-base font-medium text-gray-200',
  body: 'text-sm text-gray-300',
  bodySmall: 'text-xs text-gray-400',
  code: 'font-mono text-sm',
  label: 'text-sm font-medium text-gray-200',
  hint: 'text-xs text-gray-500',
  error: 'text-sm text-red-400',
} as const;
```

### マイクロインタラクション

```css
/* ボタンプレス効果 */
.button-press:active {
  transform: scale(0.97);
}

/* カード選択アニメーション */
.card-selectable:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

/* prefers-reduced-motion 対応 */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    transition-duration: 0.01ms !important;
  }
}
```

---

## 成功指標（KPI）

| 指標 | 説明 | 目標値 |
|-----|------|-------|
| **タスク開始成功率** | "送信できない"状態からの離脱率 | < 5% |
| **初回PR作成までの時間** | 初見ユーザーがPRを作るまでの平均時間 | < 10分 |
| **Run比較の利用率** | Compareビュー利用、採用Runのピン留め率 | > 30% |
| **エラー復帰率** | 失敗Run後に再実行/設定修正/別実行器へ進めた割合 | > 70% |
| **アクセシビリティスコア** | Lighthouse A11y スコア | > 90 |

---

## 実装ロードマップ

### Phase 1: クイックウィン（1-2週間）

**即効性のある改善**

| 項目 | 優先度 | 難易度 |
|-----|-------|-------|
| 入力バリデーションエラーの表示 | P0 | 低 |
| 失敗時の推奨アクション表示 | P0 | 中 |
| RunsPanelのフィルタリング（成功/失敗） | P1 | 低 |
| サイドバーのレスポンシブ対応強化 | P1 | 低 |
| キーボードショートカット追加 | P2 | 低 |

### Phase 2: コア体験の向上（2-3週間）

**比較とワークフローの改善**

| 項目 | 優先度 | 難易度 |
|-----|-------|-------|
| RunとメッセージのID紐付け | P0 | 中 |
| Diff ビューア強化（ファイル一覧、折り畳み） | P0 | 高 |
| マルチモデル比較ビュー | P1 | 高 |
| 実行中進捗表示の強化 | P1 | 中 |
| チャット入力の楽観的UI | P1 | 中 |
| タスク検索・フィルター | P1 | 中 |

### Phase 3: 基盤整備（1-2週間）

**品質と一貫性の向上**

| 項目 | 優先度 | 難易度 |
|-----|-------|-------|
| アクセシビリティ監査と修正 | P2 | 中 |
| マイクロコピー/用語の統一 | P2 | 低 |
| CSS変数化・デザイントークン | P2 | 低 |
| 視覚的一貫性（アイコン統一） | P2 | 低 |

### Phase 4: 将来投資（継続的）

| 項目 | 優先度 | 難易度 |
|-----|-------|-------|
| 初回設定ウィザード | P3 | 高 |
| i18n（日本語対応） | P3 | 高 |
| タイムラインビュー | P3 | 中 |
| APIキーテスト接続 | P3 | 低 |

---

## 実装方針（サマリー）

1. **"次に何をすべきか"を画面上に残す**（空状態・エラー・設定不足の全て）
2. **比較のユースケースを中心に設計する**（dursorの差別化ポイント）
3. **情報の重複を減らし、重要情報を先頭に集約する**（Runカード、ヘッダー、サマリー）
4. **エラー予防 > エラー回復**（押す前に理解できるUIへ）
5. **アクセシビリティは後付けではなく設計時から考慮**

---

## 関連ドキュメント

- [UI/UX Improvement Plan v1](./ui-ux-improvement.md) - 基礎的な改善項目（レスポンシブ、コンポーネント一貫性など）
- [Architecture](./architecture.md) - システムアーキテクチャ
- [Development](./development.md) - 開発ガイドライン
